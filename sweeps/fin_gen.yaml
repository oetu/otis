name: fin-gen
project: OTiS_Generative_Tasks

program: ./../main_finetune_gen.py
method: grid
metric:
  goal: maximize
  name: val_mse

parameters:
  wandb_project:
    value: "OTiS_Generative_Tasks"
  seed:
    value: 0
  num_workers:
    value: 8

  batch_size:
    value: 1
  epochs:
    value: 750
  warmup_epoch:
    value: 50

  model:
    value: "otis_baseDeep_dec128d2b_patchX"

  input_channels:
    value: 1
  input_electrodes:
    value: 7
  time_steps:
    value: 432
  
  patch_height:
    value: 1
  patch_width:
    values: [24, 48, 96]

  mask_ratio:
    value: 0.222

  crop_lower_bnd:
    value: 0.8
  crop_upper_bnd:
    value: 1.0

  jitter_sigma:
    value: 0.05
  rescaling_sigma:
    value: 0.1
  ft_surr_phase_noise:
    value: 0.05

  ncc_weight:
    values: [0.1, 0.2, 0.3]
  
  weight_decay:
    values: [0.05, 0.15]
  blr:
    value: 1e-1

  data_path:
    value: "/home/oturgut/data/processed/benchmarks/forecasting/data_etth_all.pt"
  val_data_path:
    value: "/home/oturgut/data/processed/benchmarks/forecasting/data_etth_all.pt"
  downstream_task:
    value: "forecasting"

  # finetune:
  #   value: "/home/oturgut/SiT/output/pre/otis_final/checkpoint-96-ncc-0.7561.pth"

  patience:
    value: -1
  max_delta:
    value: 0.00

command:
  - ${env}
  - python3
  - ${program}
  - --wandb
  # - --freeze_encoder